jQuery,$.noConflict(),jQuery(document).ready(function(e){var i,s,t,n;e("body").removeClass("pageload"),0!==e(".comments").length&&e(".comments__slider").slick({slidesToShow:1,rows:0,arrows:!0,adaptiveHeight:!0}),i=e(".faq__answer"),(s=e(".faq__question")).on("click",function(){e(this).addClass("active");var t=e(this).next(".faq__answer");if(s.not(e(this)).each(function(){e(this).removeClass("active")}),i.not(t).each(function(){e(this).removeClass("active"),e(this).slideUp(250)}),t.hasClass("active"))return e(this).removeClass("active"),t.removeClass("active"),void t.slideUp(250);t.addClass("active"),t.slideDown(250)}),t=e(".main-header"),e(".main-header__navigation"),t.outerHeight(!0),n=0,e(document).on("scroll",function(i){var s=e(this).scrollTop();s>=500?t.addClass("slideUp"):t.removeClass("slideUp"),s<n&&t.removeClass("slideUp"),n=s}),e(".main-header__info .icon").on("click",function(){e("html, body").animate({scrollTop:e("#map").offset().top},1e3)}),e(window).on("load",function(){if(0!==e("#map").length){var i,s,t=17;s=i=[59.931524,30.351719],e(window).width()<480&&(t=16,s=[59.931641,30.353813]);e(".map__fallback");var n=e(".map__info-header"),o=e(".map__info-body");e(window).width()<="767"&&n.on("click",function(){n.hasClass("js-expanded")?(o.slideUp(),n.removeClass("js-expanded")):(n.addClass("js-expanded"),o.slideDown())});var a=function(){var e,i,s;e="https://api-maps.yandex.ru/2.1/?apikey=2efe2353-6e9b-4f4f-8804-395887835361&lang=ru_RU&load=Map&loadByRequire=1",i=function(){ymaps.load(r)},(s=document.createElement("script")).readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,i())}:s.onload=function(){i()},s.src=e,document.getElementsByTagName("head")[0].appendChild(s)};e(function(){a()})}function r(){if(void 0===ymaps.geocode)return 0,a();ymaps.ready(function(){var e,n=i,o=new ymaps.multiRouter.MultiRoute({referencePoints:["Санкт-Петербург, метро Маяковская",n],params:{routingMode:"pedestrian"}},{wayPointIconLayout:"none",routeActivePedestrianSegmentStrokeStyle:"solid",routeActivePedestrianSegmentStrokeColor:"#ff0000"});e=new ymaps.Map("map",{center:s,zoom:t});var a=new ymaps.Placemark(i,{hintContent:"г. Санкт-Петербург, ст. м. Маяковская, Невский проспект 61 (вход со двора)",balloonContent:"г. Санкт-Петербург, ст. м. Маяковская, Невский проспект 61 (вход со двора)"},{iconLayout:"default#image",iconImageHref:"images/icons/map-icon.png",iconImageSize:[30,30],iconImageOffset:[-15,-30]});(function(e){return new ymaps.vow.Promise(function(i,s){var t=function(e){for(var i in e)if(e.hasOwnProperty(i)&&(e[i]instanceof ymaps.layer.tileContainer.CanvasContainer||e[i]instanceof ymaps.layer.tileContainer.DomContainer))return e[i];return null}(e),n=!0;t.tiles.each(function(e,i){e.isReady()||(n=!1)}),n?i():t.events.once("ready",function(){i()})})})(e.layers.get(0).get(0)).then(function(){console.log("Карта загружена")}),e.geoObjects.add(a),e.geoObjects.add(o),e.behaviors.disable("scrollZoom")})}}),$modal=e("#modal1"),$modal.on("show.bs.modal",function(i){var s=e(i.relatedTarget),t=new XMLHttpRequest,n=e(this),o=e(this).find("form"),a=o.attr("name"),r=e(this).find("input")[0];r&&r.focus();var l=e(this).find('input[name="phone"]'),c=e(this).find(".modal-submit"),d=s.data("button");c.text(d||"Отправить"),o.on("submit",function(i){i.preventDefault(),t.onreadystatechange=function(){4===t.readyState&&(l.val(""),c.removeClass("loading"),200===t.status?(e("#success").modal(),o.off()):(o.off(),alert("Возникла ошибка при отправке формы. Код ошибки: "+t.status+" "+t.statusText)))},n.modal("hide");var s=new FormData(document.forms[a]);t.open("POST","sendform.php",!0),t.send(s)})}),function(){var i=e(".problems-slider__slider-inner");if(i.length>0){var s=e(".problems-slider__item");i.slick({infinite:!1,slidesToShow:2,slidesToScroll:2,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:4,slidesToScroll:4}}]});var t;i.slick("getSlick").slideCount;i.on("afterChange",function(e,s,n){t===n&&0!==t&&i.slick("slickGoTo",0),t=n}),s.each(function(){var i=e(this),s=i.find(".problems-slider__text").html(),t=i.find(".problems-slider__description").html();i.on("click",function(){var i=e("#problems-description");i.find(".problems-slider__description-modal-title").html(s),i.find(".problems-slider__description-modal-text").html(t),i.modal()})})}}(),function(){e(":input").inputmask();var i="+7 (999) 999-99-99",s=e(".quiz__question-phone input");s.inputmask({mask:i,showMaskOnHover:!1});var t,n=e(".quiz__slider"),o=e(".quiz__controls .current"),a=e(".quiz__controls .total"),r=e(".quiz__previous"),l=e(".quiz__next"),c=e(".quiz__progress-bar");function d(e,i){var s=e+1;o.text(s);var t=s/i;c.css("transform","scaleX("+t+")")}n.on("init",function(i,s){t=s.$slides.length,a.text(t),d(s.currentSlide,t),e(s.$slides[s.currentSlide]).find(".quiz__question-answer input").on("change",function(){l.attr("disabled",!1)})}),n.on("beforeChange",function(i,s,n,o){d(o,t),0===o?r.attr("disabled",!0):r.attr("disabled",!1);var a=e(s.$slides[o]).find(".quiz__question-answer input");a.filter(":checked").length>0?l.attr("disabled",!1):l.attr("disabled",!0),a.on("change",function(){l.attr("disabled",!1)}),o===t-1&&(e(".quiz__controls").hide(),e(".quiz__progress").hide())}),n.slick({slidesToShow:1,rows:0,arrows:!1,adaptiveHeight:!0,swipe:!1,infinite:!1}),l.on("click",function(){n.slick("slickNext")}),r.on("click",function(){n.slick("slickPrev")}),n.on("submit",function(t){var n;if(t.preventDefault(),!(n=s.val(),Inputmask.isValid(n,{mask:i})))return;const o=e(this).serialize();e.ajax({type:"POST",url:"/sendmail.php",data:o,success:function(e){},error:function(e){alert("Тут, полагаю, нужна модалка")}})})}(),function(){e(".sertificates__list").slick({mobileFirst:!0,slidesToShow:1,arrows:!0,dots:!1,infinite:!1,centerMode:!0,centerPadding:"0",autoplaySpeed:3e3,adaptiveHeight:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:1,centerMode:!1}},{breakpoint:1240,settings:{slidesToShow:4,slidesToScroll:1,centerMode:!1}}]})}(),function(){var i=e(".sockliners-slider__content"),s=e(".sockliners-slider__content.active"),t=e(".sockliners-slider__content-wrapper"),n=e(".sockliners-slider__switcher"),o=s.outerHeight();o&&(t.css("height",o+"px"),n.each(function(){e(this).on("click",function(){n.each(function(){e(this).removeClass("active")}),e(this).addClass("active");var s=e(this).attr("data-for"),o=e("#"+s);i.each(function(){e(this).removeClass("active")});var a=o.outerHeight();t.css("height",a+"px"),o.addClass("active")})}),e(".sockliners-slider__slider").each(function(i,s){var t=e(this).siblings(".sockliners-slider__thumbs");1!=s.children.length&&(e(this).on("init",function(e,i){a(i.$slider.parent(".sockliners-slider__col").parent(".sockliners-slider__content").find(".sockliners-slider__color-item"),0,0)}),e(this).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:t}))}),e(".sockliners-slider__thumbs").each(function(i,s){var t=e(this).prev(".sockliners-slider__slider");1!=s.children.length?e(this).slick({slidesToShow:5,slidesToScroll:1,asNavFor:t,dots:!1,arrows:!1,focusOnSelect:!0}):s.style.display="none"}),e(".sockliners-slider__slider").on("beforeChange",function(e,i,s,t){a(i.$slider.parent(".sockliners-slider__col").parent(".sockliners-slider__content").find(".sockliners-slider__color-item"),s,t)}),e(".sockliners-slider__color-item").click(function(){var i=e(this).data("slide"),s=e(this).closest(".sockliners-slider__content").find(".sockliners-slider__slider");1!=s.children().length&&s.slick("slickGoTo",i-1)}));function a(i,s,t){i.each(function(){e(this).removeClass("active"),e(this).attr("data-slide")==t+1&&e(this).addClass("active")})}}(),function(){e(".specialists__list").slick({mobileFirst:!0,slidesToShow:1,arrows:!0,dots:!1,infinite:!0,centerMode:!0,centerPadding:"0",autoplaySpeed:3e3,adaptiveHeight:!0})}()});