jQuery,$.noConflict(),jQuery(document).ready(function(e){var i,t;e("body").removeClass("pageload"),$header=e(".main-header"),1===$header.length&&window.matchMedia("(max-width: 767px)").matches&&(headerHeight=$header.outerHeight(),e("body").css("padding-top",headerHeight+"px")),0!==e(".comments").length&&e(".comments__slider").slick({slidesToShow:1,rows:0,arrows:!0,adaptiveHeight:!0}),i=e(".faq__answer"),(t=e(".faq__question")).on("click",function(){e(this).addClass("active");var n=e(this).next(".faq__answer");if(t.not(e(this)).each(function(){e(this).removeClass("active")}),i.not(n).each(function(){e(this).removeClass("active"),e(this).slideUp(250)}),n.hasClass("active"))return e(this).removeClass("active"),n.removeClass("active"),void n.slideUp(250);n.addClass("active"),n.slideDown(250)}),function(){if(window.matchMedia("(max-width: 767px)").matches){var i=e(".hamburger"),t=e(".main-header__navigation"),n=e(".main-nav a");i.click(function(){e(this).toggleClass("active"),t.toggleClass("active"),e("body").toggleClass("menu-opened")}),n.on("click",function(){i.removeClass("active"),t.removeClass("active"),e("body").removeClass("menu-opened");var n=this.hash;e("html, body").animate({scrollTop:e(n).offset().top},1e3)})}}(),function(){var i=e(".main-header"),t=e(".main-header__navigation"),n=i.outerHeight(!0);window.matchMedia("(max-width: 767px)").matches&&t.css({top:n+"px","padding-bottom":n+"px"});var s=0;e(document).on("scroll",function(t){var n=e(this).scrollTop();n>=500?i.addClass("slideUp"):i.removeClass("slideUp"),n<s&&i.removeClass("slideUp"),s=n}),e(".main-header__info .icon").on("click",function(){e("html, body").animate({scrollTop:e("#map").offset().top},1e3)})}(),$linksToSubnav=e(".main-nav__link.hasSubnav"),window.matchMedia("(max-width: 767px)").matches&&$linksToSubnav.each(function(i,t){e(t).on("click",function(){e(t).next().slideToggle()})}),e(window).on("load",function(){if(0!==e("#map").length){var i,t,n=17;t=i=[59.931524,30.351719],e(window).width()<480&&(n=16,t=[59.931641,30.353813]);e(".map__fallback");var s=e(".map__info-header"),o=e(".map__info-body");e(window).width()<="767"&&s.on("click",function(){s.hasClass("js-expanded")?(o.slideUp(),s.removeClass("js-expanded")):(s.addClass("js-expanded"),o.slideDown())});var a=function(){var e,i,t;e="https://api-maps.yandex.ru/2.1/?apikey=2efe2353-6e9b-4f4f-8804-395887835361&lang=ru_RU&load=Map&loadByRequire=1",i=function(){ymaps.load(r)},(t=document.createElement("script")).readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,i())}:t.onload=function(){i()},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)};e(function(){a()})}function r(){if(void 0===ymaps.geocode)return 0,a();ymaps.ready(function(){var e,s=i,o=new ymaps.multiRouter.MultiRoute({referencePoints:["Санкт-Петербург, метро Маяковская",s],params:{routingMode:"pedestrian"}},{wayPointIconLayout:"none",routeActivePedestrianSegmentStrokeStyle:"solid",routeActivePedestrianSegmentStrokeColor:"#ff0000"});e=new ymaps.Map("map",{center:t,zoom:n});var a=new ymaps.Placemark(i,{hintContent:"г. Санкт-Петербург, ст. м. Маяковская, Невский проспект 61 (вход со двора)",balloonContent:"г. Санкт-Петербург, ст. м. Маяковская, Невский проспект 61 (вход со двора)"},{iconLayout:"default#image",iconImageHref:"images/icons/map-icon.png",iconImageSize:[30,30],iconImageOffset:[-15,-30]});(function(e){return new ymaps.vow.Promise(function(i,t){var n=function(e){for(var i in e)if(e.hasOwnProperty(i)&&(e[i]instanceof ymaps.layer.tileContainer.CanvasContainer||e[i]instanceof ymaps.layer.tileContainer.DomContainer))return e[i];return null}(e),s=!0;n.tiles.each(function(e,i){e.isReady()||(s=!1)}),s?i():n.events.once("ready",function(){i()})})})(e.layers.get(0).get(0)).then(function(){console.log("Карта загружена")}),e.geoObjects.add(a),e.geoObjects.add(o),e.behaviors.disable("scrollZoom")})}}),$modal=e("#modal1"),$modal.on("show.bs.modal",function(i){var t=e(i.relatedTarget),n=new XMLHttpRequest,s=e(this),o=e(this).find("form"),a=o.attr("name"),r=e(this).find("input")[0];r&&r.focus();var l=e(this).find('input[name="phone"]'),c=e(this).find(".modal-submit"),d=t.data("button");c.text(d||"Отправить"),o.on("submit",function(i){i.preventDefault(),n.onreadystatechange=function(){4===n.readyState&&(l.val(""),c.removeClass("loading"),200===n.status?(e("#success").modal(),o.off()):(o.off(),alert("Возникла ошибка при отправке формы. Код ошибки: "+n.status+" "+n.statusText)))},s.modal("hide");var t=new FormData(document.forms[a]);n.open("POST","sendform.php",!0),n.send(t)})}),function(){var i=e(".problems-slider__slider-inner");if(i.length>0){var t=e(".problems-slider__item");i.slick({infinite:!1,slidesToShow:2,slidesToScroll:2,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:4,slidesToScroll:4}}]});var n;i.slick("getSlick").slideCount;i.on("afterChange",function(e,t,s){n===s&&0!==n&&i.slick("slickGoTo",0),n=s}),t.each(function(){var i=e(this),t=i.find(".problems-slider__text").html(),n=i.find(".problems-slider__description").html();i.on("click",function(){var i=e("#problems-description");i.find(".problems-slider__description-modal-title").html(t),i.find(".problems-slider__description-modal-text").html(n),i.modal()})})}}(),function(){e(":input").inputmask();var i="+7 (999) 999-99-99",t=e(".quiz__question-phone input");t.inputmask({mask:i,showMaskOnHover:!1});var n,s=e(".quiz__slider"),o=e(".quiz__controls .current"),a=e(".quiz__controls .total"),r=e(".quiz__previous"),l=e(".quiz__next"),c=e(".quiz__progress-bar");function d(e,i){var t=e+1;o.text(t);var n=t/i;c.css("transform","scaleX("+n+")")}s.on("init",function(i,t){n=t.$slides.length,a.text(n),d(t.currentSlide,n),e(t.$slides[t.currentSlide]).find(".quiz__question-answer input").on("change",function(){l.attr("disabled",!1)})}),s.on("beforeChange",function(i,t,s,o){d(o,n),0===o?r.attr("disabled",!0):r.attr("disabled",!1);var a=e(t.$slides[o]).find(".quiz__question-answer input");a.filter(":checked").length>0?l.attr("disabled",!1):l.attr("disabled",!0),a.on("change",function(){l.attr("disabled",!1)}),o===n-1&&(e(".quiz__controls").hide(),e(".quiz__progress").hide())}),s.slick({slidesToShow:1,rows:0,arrows:!1,adaptiveHeight:!0,swipe:!1,infinite:!1}),l.on("click",function(){s.slick("slickNext")}),r.on("click",function(){s.slick("slickPrev")}),s.on("submit",function(n){var s;if(n.preventDefault(),!(s=t.val(),Inputmask.isValid(s,{mask:i})))return;const o=e(this).serialize();e.ajax({type:"POST",url:"/sendmail.php",data:o,success:function(e){},error:function(e){alert("Тут, полагаю, нужна модалка")}})})}(),function(){e(".sertificates__list").slick({mobileFirst:!0,slidesToShow:1,arrows:!0,dots:!1,infinite:!1,centerMode:!0,centerPadding:"0",autoplaySpeed:3e3,adaptiveHeight:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:1,centerMode:!1}},{breakpoint:1240,settings:{slidesToShow:4,slidesToScroll:1,centerMode:!1}}]})}(),function(){var i=e(".sockliners-slider__content"),t=e(".sockliners-slider__content.active"),n=e(".sockliners-slider__content-wrapper"),s=e(".sockliners-slider__switcher"),o=t.outerHeight();o&&(n.css("height",o+"px"),s.each(function(){e(this).on("click",function(){s.each(function(){e(this).removeClass("active")}),e(this).addClass("active");var t=e(this).attr("data-for"),o=e("#"+t);i.each(function(){e(this).removeClass("active")});var a=o.outerHeight();n.css("height",a+"px"),o.addClass("active")})}),e(".sockliners-slider__slider").each(function(i,t){var n=e(this).siblings(".sockliners-slider__thumbs");1!=t.children.length&&(e(this).on("init",function(e,i){a(i.$slider.parent(".sockliners-slider__col").parent(".sockliners-slider__content").find(".sockliners-slider__color-item"),0,0)}),e(this).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:n}))}),e(".sockliners-slider__thumbs").each(function(i,t){var n=e(this).prev(".sockliners-slider__slider");1!=t.children.length?e(this).slick({slidesToShow:5,slidesToScroll:1,asNavFor:n,dots:!1,arrows:!1,focusOnSelect:!0}):t.style.display="none"}),e(".sockliners-slider__slider").on("beforeChange",function(e,i,t,n){a(i.$slider.parent(".sockliners-slider__col").parent(".sockliners-slider__content").find(".sockliners-slider__color-item"),t,n)}),e(".sockliners-slider__color-item").click(function(){var i=e(this).data("slide"),t=e(this).closest(".sockliners-slider__content").find(".sockliners-slider__slider");1!=t.children().length&&t.slick("slickGoTo",i-1)}));function a(i,t,n){i.each(function(){e(this).removeClass("active"),e(this).attr("data-slide")==n+1&&e(this).addClass("active")})}}(),function(){e(".specialists__list").slick({mobileFirst:!0,slidesToShow:1,arrows:!0,dots:!1,infinite:!0,centerMode:!0,centerPadding:"0",autoplaySpeed:3e3,adaptiveHeight:!0})}()});